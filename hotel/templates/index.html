{% extends "base.html" %}

{% block title %}
<title>Main page</title>
{% endblock %}

{% block content %}
{% load static %}

<br>
<div class="container">
    <h5 class="display-6 text-start">Кімнати зі скидками</h5>
    <br>
    <div id="carouselDiscounts" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            {% for group in grouped_discounts %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <div class="row">
                    {% for room in group %}
                    <div class="col-md-3">
                        <a href="{% url 'room' room.pk %}" style="text-decoration: none;">
                            <div class="card border-dark" style="width: 16rem;">
                                <img src="{{room.photo.url}}" height="150" class="card-img-top">
                                <div class="card-body text-start lh-2">
                                    <h5 class="card-title">{{room.number}}</h5>
                                    <p class="card-text fw-lighter"><div
                                            style="display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;overflow: hidden;text-overflow: ellipsis;">{{room.describe}}</div><br><span
                                            class="badge text-bg-primary">{{room.rating}}</span>
                                        {{room.reviews.count}} людей проголосували</p>

                                    <div class="text-end">
                                        {% if room.discount %}
                                        <p class="fs-6 text-danger text-end" style="display: inline"><s>{{room.discount}} UAH</s>
                                        </p>
                                        {% endif %}
                                        <p class="fs-5 text-end" style="display: inline">{{room.price}} UAH</p>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% empty %}
            <p>No rooms with discounts</p>
            {% endfor %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselDiscounts" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselDiscounts" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">next</span>
        </button>
    </div>
</div>
<br>
<div class="container">
    <h5 class="display-6 text-start">Забронюйте наші найпопулярніші кімнати</h5>
    <br>
    <div id="carouselTrend" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            {% for group in grouped_popular %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <div class="row">
                    {% for room in group %}
                    <div class="col-md-3">
                        <a href="{% url 'room' room.pk %}" style="text-decoration: none;">
                            <div class="card border-dark" style="width: 16rem;">
                                <img src="{{room.photo.url}}" height="150" class="card-img-top">
                                <div class="card-body text-start lh-2">
                                    <h5 class="card-title">{{room.number}}</h5>
                                    <p class="card-text fw-lighter"><div
                                            style="display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;overflow: hidden;text-overflow: ellipsis;">{{room.describe}}</div><br><span
                                            class="badge text-bg-primary">{{room.rating}}</span>
                                        {{room.reviews.count}} людей проголосували</p>

                                    <div class="text-end">
                                        {% if room.discount %}
                                        <p class="fs-6 text-danger text-end" style="display: inline"><s>{{room.discount}} UAH</s>
                                        </p>
                                        {% endif %}
                                        <p class="fs-5 text-end" style="display: inline">{{room.price}} UAH</p>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% empty %}
            <p>No popular rooms</p>
            {% endfor %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselTrend" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselTrend" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">next</span>
        </button>
    </div>
</div>
<br>
<div class="container">
    <h5 class="display-6 text-start">Пошук за типом помешкання</h5>
    <br>
    <div class="row">
        <div class="col-md-3">
            <a href="{% url 'economy' %}" class="a">
                <div class="card border-dark" style="width: 16rem;">
                    <img src="https://posutochno.com.ua/storage/images/79304/182226/15820105008541_lightbox.jpg"
                         height="150"
                         class="card-img-top">
                    <div class="card-body text-start lh-2">
                        <h5 class="card-title">ЕКОНОМ КЛАС</h5>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-3">
            <a href="{% url 'comfort' %}" class="a">
                <div class="card border-dark" style="width: 16rem;">
                    <img src="https://re-media.plektan.com/img/prop/60/cc/60ccb7648c03d195b1515879e67d573a.middle.jpeg"
                         height="150"
                         class="card-img-top">
                    <div class="card-body text-start lh-2">
                        <h5 class="card-title">КОМФОРТ КЛАС</h5>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-3">
            <a href="{% url 'business' %}" class="a">
                <div class="card border-dark" style="width: 16rem;">
                    <img src="https://www.vanagupe.lt/assets/files/2019/06/Verslo-klas%C4%97s-kambarys-premium-palangoje-1280x720.jpg"
                         height="150"
                         class="card-img-top">
                    <div class="card-body text-start lh-2">
                        <h5 class="card-title">БІЗНЕС КЛАС</h5>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-3">
            <a href="{% url 'premium' %}" class="a">
                <div class="card border-dark" style="width: 16rem;">
                    <img src="https://kidpassage.com/images/publications/tipyi-nomerov-v-otelyah-rashifrovka-klassifikatsiya-opisanie/1267_room-type.jpg"
                         height="150"
                         class="card-img-top">
                    <div class="card-body text-start lh-2">
                        <h5 class="card-title">ПРЕМІУМ КЛАС</h5>
                    </div>
                </div>
            </a>
        </div>
    </div>
</div>
<br>
{% endblock %}